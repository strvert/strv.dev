__NUXT_JSONP__("/blog/unrealengine--lets-implement-a-single-mesh-renderer-3", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE,gF,gG,gH,gI,gJ,gK,gL,gM,gN,gO,gP,gQ,gR,gS,gT,gU,gV,gW,gX,gY,gZ,g_,g$,ha,hb,hc,hd,he,hf,hg,hh,hi,hj,hk,hl){return {data:[{page:{slug:"lets-implement-a-single-mesh-renderer-3",description:"アイテムの描画とか、一つだけのメッシュをレンダリングするのに便利なツールを実装してみる記事のその２。独自のメッシュパスを実装して単一パスの軽量なレンダラを書く。",title:"単一Static Meshレンダラを独自メッシュパスで実装する",enforceCreatedAt:dU,enforceUpdatedAt:dU,tags:["Unreal Engine","Unreal C++","RHI","RDG","Advent Calendar"],assets:"\u002Farticle-assets\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3",toc:[{id:bD,depth:W,text:bD},{id:bE,depth:W,text:bE},{id:bF,depth:W,text:bF},{id:dV,depth:W,text:cv},{id:bd,depth:W,text:bd},{id:dW,depth:ab,text:cw},{id:dX,depth:ab,text:cx},{id:dY,depth:W,text:cy},{id:dZ,depth:ab,text:cz},{id:d_,depth:W,text:cA},{id:d$,depth:ab,text:cB},{id:ea,depth:ab,text:cC},{id:be,depth:W,text:be},{id:eb,depth:ab,text:cD},{id:bf,depth:ab,text:bf},{id:bg,depth:ab,text:bg},{id:ec,depth:ab,text:cE},{id:ed,depth:W,text:cF},{id:ee,depth:ab,text:aR},{id:ef,depth:W,text:cG},{id:eg,depth:W,text:cH},{id:eh,depth:ab,text:cI},{id:bh,depth:W,text:bh},{id:ei,depth:ab,text:cJ},{id:bi,depth:ab,text:bi},{id:ej,depth:ab,text:cK},{id:ek,depth:W,text:cL},{id:bj,depth:W,text:bj},{id:el,depth:W,text:cM},{id:bk,depth:W,text:bk}],body:{type:"root",children:[{type:b,tag:ar,props:{id:"introduction"},children:[{type:b,tag:t,props:{href:"#introduction",ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:"Introduction"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"この記事では、UE5 上でメインの World とは別の空間・ビューポートを対象とした軽量なレンダリング機能を実装してみるものです。\n想定用途は、アイテムのプレビュー表示など、高度なレンダリング機能を必要としないが、軽量に個別のメッシュを描画したい場合などです。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"この記事は、以下の記事の続編になります。"}]},{type:a,value:f},{type:b,tag:em,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:en,rel:[ac,ad,ae],target:af},children:[{type:a,value:"単一 Static Mesh レンダラを FPreviewScene で実装する"}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2",rel:[ac,ad,ae],target:af},children:[{type:a,value:"単一 Static Mesh レンダラを独自メッシュパスで実装する...ための前提知識編"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"1 の記事では、FPreviewScene というユーティリティを使って、メインの World とは別の UWorld インスタンスを作成し、その内部のカメラにレンダリングさせることで、単一の Static Mesh を専用ビューポートに描画する方法を紹介しました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"しかし、この方法には課題もありました。たとえば、"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"単一メッシュをレンダリングしたいだけなのに専用の UWorld インスタンスが必要"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"レンダリング機能についても多数のメッシュを描画する前提で設計されていたりするために、速度やメモリ資源の面で無駄が多い"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"などです。\n本記事では、 2 の記事で紹介した前提知識を元に、実際に単一メッシュを描画するためのレンダラを実装していきます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:cN,props:{},children:[{type:a,value:"StaticMesh から出発して独自のメッシュ描画パスを実装してみることは、UE のレンダリング機能を知る入口としても適しています。"}]}]},{type:a,value:f},{type:b,tag:ar,props:{id:eo},children:[{type:b,tag:t,props:{href:"#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%AE%E5%85%AC%E9%96%8B",ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:eo}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"この記事の執筆にあたっては、TinyRenderer というプラグインとして機能を実装しました。プラグインのソースコードは "},{type:b,tag:t,props:{href:ep,rel:[ac,ad,ae],target:af},children:[{type:a,value:eq}]},{type:a,value:" で公開しています。\nなお、実験的な実装であり、きちんとした検証は行っていないので、あくまでも手法の参考としてご利用ください。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bD},children:[{type:b,tag:t,props:{href:"#%E7%B0%A1%E5%8D%98%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9",ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bD}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"以下のように、BP から簡単にメッシュを指定して RenderTarget に描画させることができます。\n"},{type:b,tag:aS,props:{alt:an,src:"\u002Farticle-assets\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3\u002F\u002Fsample.png"},children:[]},{type:a,value:"\nこれは UMG 上の Image Widget に配置した例です。\n"},{type:b,tag:aS,props:{alt:an,src:"\u002Farticle-assets\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3\u002F\u002Flamp.png"},children:[]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"背景色は RenderTarget の ClearColor で指定したものになるので、背景抜きのことを考えなくても透明に設定するだけではじめから背景無しで描画できます。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bE},children:[{type:b,tag:t,props:{href:"#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9",ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bE}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"詳しくは "},{type:b,tag:t,props:{href:cO},children:[{type:a,value:bG}]},{type:a,value:" に記載していますが、単一メッシュの描画においては、 SceneCapture2D や FPreviewScene といった手段よりもかなり高速に動作します。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"参考として、 同一フレームに 500x500 の RenderTarget に 19382 三角ポリゴンのメッシュを描画して計測すると、フレーム内に占める時間は以下のような結果になりました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:aS,props:{alt:an,src:er},children:[]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"SceneCapture2D: 4.12ms"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:en,rel:[ac,ad,ae],target:af},children:[{type:a,value:bH}]},{type:a,value:": 1.11ms"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:bl,props:{},children:[{type:a,value:"Tiny Renderer (本プラグイン): 0.02ms"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"はやい。いや、むしろ SceneCapture2D などが単純なメッシュ描画には不要な機能が多すぎるということかもしれません。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bF},children:[{type:b,tag:t,props:{href:"#%E3%81%93%E3%81%AE%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%A7%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8",ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bF}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"このプラグインは、単一 StaticMesh を軽量に描画したいという目的に特化しています。そのため、以下のような機能は提供していません。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"多数のメッシュからなるシーンの描画"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"複雑な照明環境の描画"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"エフェクトやポストプロセスの適用"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"また、以下のような機能は技術的には(たぶん)可能ですが、実装には含まれていません。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"不透明 (Opaque) 以外のマテリアルの描画"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"Nanite メッシュの描画"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"etc..."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"Nanite メッシュの描画については、Nanite を使った描画はできませんが、Fallback Mesh の LOD を指定して描画することは可能です。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"さて、以降はこのプラグインの実装と関連する UE のグラフィックス機能について解説していきます。"}]},{type:a,value:f},{type:b,tag:ar,props:{id:es},children:[{type:b,tag:t,props:{href:"#%E7%9B%AE%E6%AC%A1",ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:es}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:et},children:[{type:a,value:cP}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eu},children:[{type:a,value:ev}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:ew},children:[{type:a,value:cv}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:ex},children:[{type:a,value:bd}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:ey},children:[{type:a,value:cw}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:ez},children:[{type:a,value:cx}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:cQ},children:[{type:a,value:cy}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eA},children:[{type:a,value:cz}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:cR},children:[{type:a,value:cA}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eB},children:[{type:a,value:cB}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eC},children:[{type:a,value:cC}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eD},children:[{type:a,value:be}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eE},children:[{type:a,value:cD}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eF},children:[{type:a,value:bf}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eG},children:[{type:a,value:bg}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eH},children:[{type:a,value:cE}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:cS},children:[{type:a,value:cF}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eI},children:[{type:a,value:aR}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eJ},children:[{type:a,value:eK}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eL},children:[{type:a,value:cG}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eM},children:[{type:a,value:cH}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eN},children:[{type:a,value:cI}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:cO},children:[{type:a,value:bG}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eO},children:[{type:a,value:bh}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eP},children:[{type:a,value:cJ}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eQ},children:[{type:a,value:bi}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eR},children:[{type:a,value:cK}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eS},children:[{type:a,value:cT}]}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eT},children:[{type:a,value:cL}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eU},children:[{type:a,value:bj}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eV},children:[{type:a,value:cM}]}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:eW},children:[{type:a,value:bk}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:eX},children:[{type:a,value:cU}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:ar,props:{id:cP},children:[{type:b,tag:t,props:{href:et,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cP}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"長い記事になるので、まずはどんなコンセプトで実装されたものかをざっくりとまとめておきます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UE の デスクトップやハイエンドコンソール向けのレンダリング機能は、Diferred Rendering による高度な機能を提供します。Deferred Rendering は多数のメッシュや光源を描画したり、高度なポストプロセスを適用したりするのには有益ですが、シンプルな単一メッシュの描画には不要です。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"たとえば、ゲームのインベントリ画面にアイテムの 3D モデルをたくさん並べて表示したいとか、そんなときには高度な機能は不要で、小さな RenderTarget に単一のメッシュを高速に描画できることが重要です。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"また、UE のレンダリング機能には AO や GI などの高度な機能のためのパスが多数含まれており、これらのパスは特定の Viewport だけで ON \u002F OFF したりできない (CVars で一括管理されてしまう)ため、シンプルな Viewport 描画を行いにくいです。\n利用される Shader についても複雑な構造になっており、単一メッシュの描画にはオーバースペックです。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"そこで、単一のパスでライティングまでを行う Forward Rendering によるレンダラを UE の RHI \u002F RDG を使って実装してみることにしました。また、 UWorld や FScene といったシーン表現や Actor, Component といったものも単一メッシュでは不要(ローカルのTransformしかない)なので利用せず、StaticMesh アセットを直接処理して描画することにします。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"独自のシェーダーで描画を行いますが、アセットの互換性のため、きちんとUEのマテリアルアセットを利用して描画を行えるようにもしました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:cN,props:{},children:[{type:a,value:"TinyRenderer は軽量で高速ですが、すごいことをしているわけではありません。むしろ、単一メッシュを描画するにはいらないことをなにもしてないないだけです。"}]}]},{type:a,value:f},{type:b,tag:ar,props:{id:"軽量な単一-staticmesh-レンダラの実装"},children:[{type:b,tag:t,props:{href:eu,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:ev}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"すべてのコードを示すと長くなるため、面白い部分のみを抜粋して説明します。\n全体のコードは "},{type:b,tag:t,props:{href:ep,rel:[ac,ad,ae],target:af},children:[{type:a,value:eq}]},{type:a,value:" を参照してください。プラグインのソースを読みながら、その解説として記事を読むのが理解しやすいかもしれません。"}]},{type:a,value:f},{type:b,tag:X,props:{id:dV},children:[{type:b,tag:t,props:{href:ew,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cv}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"レンダラを表すクラスは "},{type:b,tag:y,props:{},children:[{type:a,value:aq}]},{type:a,value:" であり、以下のように定義されています。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bm}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F コンストラクタ。FSceneViewFamilyを受け取る"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"explicit"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:eY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" InViewFamily"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F StaticMesh およびその変換行列を設定する"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:cV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FMatrix"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:eZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F 描画命令を発行する"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:cW}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"FTinySceneTextures"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\n\t\tFRDGTextureRef SceneColorTexture"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\tFRDGTextureRef SceneDepthTexture"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"FMeshBatchesRequiredFeatures"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:" bWorldPositionOffset "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\tFTinySceneTextures "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:cY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:cV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                     TArray"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:e_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                     FMeshBatchesRequiredFeatures"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\n\tFGPUSceneResourceParameters "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                            "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:e$},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:fa},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\tERHIFeatureLevel"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:fb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:eY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tFSceneUniformBuffer SceneUniforms"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tTWeakObjectPtr"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tFMatrix LocalToWorld"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tint32 LODIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UE の他の機能との相互利用性を考慮して、 コンストラクタでは "},{type:b,tag:y,props:{},children:[{type:a,value:fc}]},{type:a,value:" を受け取って利用します。また、描画するメッシュや変換行列は "},{type:b,tag:y,props:{},children:[{type:a,value:bI}]},{type:a,value:" で設定し、描画の実行は "},{type:b,tag:y,props:{},children:[{type:a,value:aU}]},{type:a,value:" で行います。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:fc}]},{type:a,value:" については"},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer\u002F#ue-%E3%81%AE%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%AE%E7%99%BB%E5%A0%B4%E4%BA%BA%E7%89%A9%E3%82%92%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B",rel:[ac,ad,ae],target:af},children:[{type:a,value:"こちら"}]},{type:a,value:"を参照してください。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bd},children:[{type:b,tag:t,props:{href:ex,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bd}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:"FTinyRenderer::Render"}]},{type:a,value:" は、呼び出し元から RDGBuilder を受け取り、 RDG を使ってリソースやパスの登録を行います。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F レンダリング対象の SceneTextures を作成"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FTinySceneTextures SceneTextures "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F BasePass をレンダリング"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"流れとしては、 "},{type:b,tag:y,props:{},children:[{type:a,value:bp}]},{type:a,value:" でレンダリングに利用するのテクスチャリソースを登録し、そこに "},{type:b,tag:y,props:{},children:[{type:a,value:bq}]},{type:a,value:" でパスの登録確保したリソースのパラメータのセットアップを実行するというものです。\nRDG についての詳細は "},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2#rdg-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E6%8F%8F%E7%94%BB%E5%91%BD%E4%BB%A4%E7%99%BA%E8%A1%8C%E3%81%AE%E3%83%9C%E3%82%A4%E3%83%A9%E3%83%BC%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88",rel:[ac,ad,ae],target:af},children:[{type:a,value:fd}]},{type:a,value:c$}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"呼び出している関数の実装は次節以降で解説します。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:dW},children:[{type:b,tag:t,props:{href:ey,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cw}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"まずは、 "},{type:b,tag:y,props:{},children:[{type:a,value:bp}]},{type:a,value:fe}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:a,value:aq},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"FTinySceneTextures "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F 描画先の FRenderTarget を取得。これが SceneColor の出力先になる"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRenderTarget"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" RenderTarget "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F RDG のリソース管理に外部の RenderTarget を登録し、RDG のテクスチャリソースを表す FRDGTextureRef を取得"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGTextureRef TinyRendererOutputRef "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"RegisterExternalTexture"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CreateRenderTarget"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetRenderTargetTexture"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"TinyRendererOutput\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F SceneDepth 用のテクスチャを作成。今回は外部から参照しないので、ここで作成して利用する。"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGTextureDesc Desc "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"FRDGTextureDesc"}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Create2D"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetSizeXY"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" PF_DepthStencil"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                       FClearValueBinding"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"DepthFar"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                       TexCreate_DepthStencilTargetable "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"|"}]},{type:a,value:" TexCreate_ShaderResource"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGTextureRef SceneDepth "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CreateTexture"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"Desc"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"SceneDepthZ\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"SceneColorTexture "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" TinyRendererOutputRef"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"SceneDepthTexture "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" SceneDepth\n\t"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"ここでは、 RDG のリソース管理機能を利用して、レンダリングに利用するテクスチャリソースを定義しています。SceneColor には、外部の RenderTarget を利用し、SceneDepth は RDG のリソースとして作成しています。\nRDG を使った実装では、 RDG がリソースのライフタイムを管理するため、外部化のリソースを利用するには登録を行って RDG のリソースとして扱う必要があります。別の場所で作成した RenderTarget を渡したい場合や、フレームをまたいで利用したいリソースがある場合には、このような方法を使うことになります。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:dX},children:[{type:b,tag:t,props:{href:ez,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cx}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"次に、 "},{type:b,tag:y,props:{},children:[{type:a,value:bq}]},{type:a,value:fe}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:cY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:da}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FTinyRenderer_RenderBasePass"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F レンダリング対象の StaticMesh を取得"}]},{type:a,value:"\n\tUStaticMesh"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" Mesh "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"IsValid"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"?"}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:a,value:fg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"StaticMesh is not valid\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F StaticMesh から MeshBatch を作成"}]},{type:a,value:"\n\tTArray"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tFMeshBatchesRequiredFeatures RequiredFeatures"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"Failed to create mesh batch\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F GPUScene のためのパラメータをセットアップ"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FGPUSceneResourceParameters GPUSceneResourceParameters "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"GPUSceneResourceParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F レンダリング対象の View を取得\t"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" View "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fj}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Views"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F レンダリングに利用する Shader のパラメータを構築"}]},{type:a,value:"\n\tFTinyRendererShaderParameters"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:fk},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fl}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fm},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F レンダリング結果の出力先を設定"}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                        ERenderTargetLoadAction"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F DepthStencil の設定"}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ft},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fw},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fw},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:fx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                                  FExclusiveDepthStencil"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F メッシュ描画用のパスを RDG に登録"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\t\tGraphBuilder"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:fz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tView"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fB},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:fC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fD},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:dk}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" MeshBatch "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:dm},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F マテリアルから ShaderBinding を取得するために、必要に応じて UniformExpression を更新"}]},{type:a,value:"\n\t\t\t\tMeshBatch"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"UpdateUniformExpressionCacheIfNeeded"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dm},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F MeshBatch を TinyRenderer 用の BasePassMeshProcessor に追加"}]},{type:a,value:"\n\t\t\t\tFTinyRendererBasePassMeshProcessor "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"TinyRendererBasePassMeshProcessor"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\t\t\tTinyRendererBasePassMeshProcessor"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"~"}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"0ull"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"ここでは、レンダリングに必要なパラメータのセットアップから描画パスの登録までを行っています。具体的には、以下のような処理に分けられます。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"StaticMesh から MeshBatch を作成する。 MeshBatch はメッシュのレンダリングに必要な情報をまとめた構造体で、あらゆる描画可能なメッシュは MeshBatch に変換してから描画に使われる。\n"},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:cQ},children:[{type:a,value:fF}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"パスパラメータをセットアップする。ここでは描画先のテクスチャやビュー情報、シーン情報など基本的な要素のほか、 GPUScene に必要なパラメータもセットアップしている。\n"},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:cR},children:[{type:a,value:"SetupGPUSceneResourceParameters() "}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"パスを RDG に登録する。 RDG には描画パスを登録するための関数が用意されており、ここでは "},{type:b,tag:y,props:{},children:[{type:a,value:bU}]},{type:a,value:" を使って MeshBatch を RDG に登録している。"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"パス内部では、MeshPassProcessor を使って MeshBatch の描画命令を登録する。\n"},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:t,props:{href:cS},children:[{type:a,value:aR}]}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:bU}]},{type:a,value:" は RDG 向けに提供されている便利な関数で、 MeshPassProcessor を使ったメッシュ描画パスに必要なコンテキストのセットアップを行ってくれます。"}]},{type:a,value:f},{type:b,tag:X,props:{id:dY},children:[{type:b,tag:t,props:{href:cQ,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cy}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"通常の UE のシーンでは、 StaticMesh などのアセットを直接シーンに配置されることはありません(できません)。シーンに存在するすべての可視存在は、 "},{type:b,tag:y,props:{},children:[{type:a,value:"UStaticMeshComponent"}]},{type:a,value:" など "},{type:b,tag:y,props:{},children:[{type:a,value:fG}]},{type:a,value:" を継承したコンポーネントとして配置されます。StaticMesh などのアセットは、コンポーネントに設定されることで間接的に利用されることになります。\nレンダリングプロセスとしても、ゲームスレッドの "},{type:b,tag:y,props:{},children:[{type:a,value:fG}]},{type:a,value:" の持つメソッドをもとに "},{type:b,tag:y,props:{},children:[{type:a,value:"FPrimitiveSceneProxy"}]},{type:a,value:" が作成され、それをもとに "},{type:b,tag:y,props:{},children:[{type:a,value:br}]},{type:a,value:" が作成されるという流れになります。 "},{type:b,tag:y,props:{},children:[{type:a,value:br}]},{type:a,value:" が作成できれば、あとは "},{type:b,tag:y,props:{},children:[{type:a,value:"MeshPassProcessor"}]},{type:a,value:" を使って描画命令を登録するだけで描画が行えます。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:dZ},children:[{type:b,tag:t,props:{href:eA,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cz}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"しかし、今回のような単一メッシュの描画には、コンポーネントはオーバースペックです。そこで、コンポーネントを介さずに StaticMesh から直接 MeshBatch を作成する方法を考えます。\nこれを実装したのが "},{type:b,tag:y,props:{},children:[{type:a,value:fF}]},{type:a,value:fH}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:fI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @param InStaticMesh MeshBatch を作成する StaticMesh"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @param InLODIndex MeshBatch を作成する StaticMesh の LODIndex"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @param InMeshBatches 作成した MeshBatch を格納する配列"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @param RequiredFeatures MeshBatch が描画時に必要とする機能"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @return MeshBatch が作成できた場合は true、それ以外は false"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:fJ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:cV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n                                    TArray"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:e_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n                                    FMeshBatchesRequiredFeatures"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SCOPED_NAMED_EVENT_F"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"FTinyRenderer::CreateMeshBatch - %s\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:fK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetName"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F StaticMesh がコンパイル中の場合は MeshBatch を作成しない"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F Editor 用チェックであり、非 Editor ビルドでは定数化するので、最適化で消える"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"IsCompiling"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F StaticMesh から RenderData を取得。ここに StaticMesh のメッシュデータが格納されている"}]},{type:a,value:"\n\tFStaticMeshRenderData"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" RenderData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetRenderData"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" int32 LODResourceIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"FMath"}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Min"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"InLODIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"LODResourceIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F 以下、LODResources から指定の LODIndex のメッシュデータを読み出し、MeshBatch を作成する"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FStaticMeshSectionArray"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" Sections "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Sections"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F セクションの数だけ MeshBatch を作成。一般的に、StaticMesh に割り当てられているマテリアルの数と対応している"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:dk}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"int32 SectionIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" SectionIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:fM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:fN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:fO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FStaticMeshSection"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" Section "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:"SectionIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"NumTriangles "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dr}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"continue"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FStaticMeshLODResources"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" LODResource "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F データを MeshBatch に格納していく"}]},{type:a,value:"\n\t\tFMeshBatch MeshBatch"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"VertexFactory "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:"RenderData"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:"LODVertexFactories"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Type "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" PT_TriangleList"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F MeshBatch の Element に IndexBuffer などを格納。MeshBatch は複数の Element を持つことができるが、エンジンでも多くの場合は 1 つの Element しか使われていない"}]},{type:a,value:"\n\t\tFMeshBatchElement"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" BatchElement "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Elements"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:fQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:fR},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fj}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:fQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"VertexFactoryUserData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fS},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetUniformBuffer"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\t\tBatchElement"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"IndexBuffer "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:"LODResource"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"IndexBuffer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"FirstIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"FirstIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"NumTriangles"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MinVertexIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MinVertexIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MaxVertexIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MaxVertexIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"PrimitiveIdMode "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" PrimID_DynamicPrimitiveShaderData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\t\tMeshBatch"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"LODIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" LODResourceIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"SegmentIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"CastShadow "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F マテリアルを取得"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" UMaterialInterface"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:fU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterial"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MaterialIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\t\tBatchElement"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dt}]},{type:a,value:fU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"!="}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"auto"}]},{type:a,value:" MaterialProxy "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetRenderProxy"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F マテリアルのレンダースレッド表現である MaterialRenderProxy を MeshBatch に MaterialRenderProxy を格納"}]},{type:a,value:fW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MaterialRenderProxy "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" MaterialProxy"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\t\tInMeshBatches"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Add"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FMaterialRelevance"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" MaterialRelevance "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetRelevance_Concurrent"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F マテリアルが利用を要求しているレンダリング機能を RequiredFeatures に格納"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"MaterialRelevance"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"bUsesWorldPositionOffset"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\n\t\t\t\tRequiredFeatures"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"bWorldPositionOffset "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"InMeshBatches"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"IsEmpty"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"StaticMesh には LOD で分割されたメッシュデータが格納されており、更にその中に複数のセクションが存在します。セクションは、メッシュデータの一部を表すもので、一般的にはマテリアルごとに分割されています。\nMeshBatch 一つあたり１つのマテリアルが割り当てられるため、セクションごとに MeshBatch を作成しています。\nマテリアルのレンダースレッド表現については前回の "},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2\u002F#%E3%83%9E%E3%83%86%E3%83%AA%E3%82%A2%E3%83%AB%E3%81%A8%E3%82%B7%E3%82%A7%E3%83%BC%E3%83%80%E3%83%BC%E3%83%AC%E3%83%B3%E3%83%80%E3%83%BC%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E8%A1%A8%E7%8F%BE",rel:[ac,ad,ae],target:af},children:[{type:a,value:"マテリアルとシェーダーレンダースレッド表現"}]},{type:a,value:c$}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UE のマテリアルはビジュアルシェーダー言語であるため、その設定によって要求されるレンダリング機能が変わります。ここでは例として、 MeshBatches の作成とともに、それらを描画するために WorldPositionOffset が必要かどうかを取得する処理を加えています。\n取得した情報は後のシェーダーパラメータ作成に利用されます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"また、頂点ファクトリ(Vertex Factory)は独自パスを書くうえで非常に重要です。頂点ファクトリはメッシュの種別に紐づく形で様々な種類が存在しており、紐づくメッシュタイプの頂点データを処理して Vertex Shader に提供する役割を果たします。詳細は前回記事の "},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2#%E9%A0%82%E7%82%B9%E3%83%95%E3%82%A1%E3%82%AF%E3%83%88%E3%83%AA",rel:[ac,ad,ae],target:af},children:[{type:a,value:"頂点データの受け渡し"}]},{type:a,value:" を参照してください。\nここでは StaticMesh が利用する頂点ファクトリである "},{type:b,tag:y,props:{},children:[{type:a,value:fX}]},{type:a,value:" を前提として MeshBatch を作成しています。"}]},{type:a,value:f},{type:b,tag:X,props:{id:d_},children:[{type:b,tag:t,props:{href:cR,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cA}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"GPUScene は、GPU 側にプリミティブやそのインスタンスの配置情報を表すバッファを持つことで、プリミティブの GPU への送信回数を最適化したり、一度のドローコールで複数のメッシュを描画したりできるようにする機能です。\nStaticMesh のキャッシングや、いわゆる GPU Instancing と呼ばれるものなどはこれによって実現されています。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"今回のレンダラはキャッシュ等を行わないし単一メッシュなのに、どうして GPUScene をセットアップするんだ？　という疑問はごもっともです。実際、機能としては必要ありません。ただ、UE の StaticMesh 描画実装をうまく流用して実装を行おうとすると GPUScene を利用しないほうが複雑になるため、 1 プリミティブ 1 インスタンスの GPUScene をセットアップすることにしました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"なお、FLocalVertexFactory の派生ファクトリを作成し、Shader のコンパイルパラメータを変更してから利用させることで、 GPUScene を利用しないようにすることも可能ではあります。FLocalVertexFactory をそのまま利用する場合には、GPUScene の利用がプラットフォームと Feature Level で自動的に決定されてしまいます。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:d$},children:[{type:b,tag:t,props:{href:eB,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cB}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"GPUScene の基本的な仕組みは、Vertex Shader にわたす頂点情報に、プリミティブ ID などの情報を追加することで、GPU 側でプリミティブごとの情報を取得できるようにすることです。プリミティブごとの情報は別途バッファとして GPU に渡され、シェーダー側で利用されます。\nこの構築を行うのが "},{type:b,tag:y,props:{},children:[{type:a,value:bK}]},{type:a,value:fH}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:fI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @param GraphBuilder RDGBuilder"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @param RequiredFeatures 対象の MeshBatch の描画時に必要とする機能"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:" * @return GPUScene のためのパラメータ"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:fJ}]},{type:a,value:"\nFGPUSceneResourceParameters "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n                                                                           "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:e$},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* PrimitiveData として使うパラメータを構築 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FPrimitiveUniformShaderParameters PrimitiveParams "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" FPrimitiveUniformShaderParametersBuilder"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Defaults"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:du}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"ActorWorldPosition"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetOrigin"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"EvaluateWorldPositionOffset"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"RequiredFeatures"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"bWorldPositionOffset"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FPrimitiveSceneShaderData "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"PrimitiveParams"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\tFGPUSceneResourceParameters GPUSceneParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* Primitive Data のバッファを作成 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGBufferRef RDGPrimitiveSceneDataBuffer "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:f_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"PrimitiveSceneDataBuffer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" TArray"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:fZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"GPUScenePrimitiveSceneData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"RDGPrimitiveSceneDataBuffer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"NumScenePrimitives "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\n\t\tFInstanceSceneShaderData InstanceSceneData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\tInstanceSceneData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* PrimitiveId *\u002F"}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* RelativeId *\u002F"}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* InstanceFlags *\u002F"}]},{type:a,value:"\n\t\t                        INVALID_LAST_UPDATE_FRAME"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* LastUpdateFrame *\u002F"}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* CustomDataCount *\u002F"}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* RandomID *\u002F"}]},{type:a,value:"\n\t\t                        FRenderTransform"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"Identity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* LocalToPrimitive *\u002F"}]},{type:a,value:"\n\t\t                        PrimitiveParams"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"LocalToRelativeWorld"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* PrimitiveToWorld *\u002F"}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* Instance Data のバッファを作成 *\u002F"}]},{type:a,value:"\n\t\tTArray"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:f$},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:a,value:ga},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\tInstanceSceneDataSOA"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"AddZeroed"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dv}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:dk}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"uint32 ArrayIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" ArrayIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dv}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" ArrayIndex"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:fO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\n\t\t\tInstanceSceneDataSOA"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:gc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" InstanceSceneData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Data"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:gc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGBufferRef RDGInstanceSceneDataBuffer "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:f_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"InstanceSceneDataBuffer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ga},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"GPUSceneInstanceSceneData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"RDGInstanceSceneDataBuffer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"InstanceDataSOAStride "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"NumInstances "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* ダミーのバッファで不要なパラメータを埋める *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGBufferRef DummyBufferVec4 "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:gd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ge}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:gf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:f$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FRDGBufferRef DummyBufferLight "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:gd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ge}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:gf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FLightSceneData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\t\tGPUSceneParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"GPUSceneInstancePayloadData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"GPUSceneLightmapData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"GPUSceneLightData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"DummyBufferLight"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* たぶん NRVO が効くのでそのまま返しちゃいましょう *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:" GPUSceneParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:"FPrimitiveUniformShaderParametersBuilder"}]},{type:a,value:" を通して作成している "},{type:b,tag:y,props:{},children:[{type:a,value:"FPrimitiveSceneShaderData"}]},{type:a,value:" は、プリミティブごとの情報を表す構造体です。一方 "},{type:b,tag:y,props:{},children:[{type:a,value:dv}]},{type:a,value:" は、インスタンスごとの情報を表す構造体で、きちんと GPUScene を使うときには 1 つのプリミティブに対して複数のインスタンスが存在することを考慮して設計されています。\nここでは単一メッシュの描画を行うためどちらも１つで十分で、必要最低限の情報しか設定していません。高度な GPUScene の構築についてはエンジンの "},{type:b,tag:y,props:{},children:[{type:a,value:"Engine\\UE5\\Source\\Runtime\\Renderer\\Private\\GPUScene.cpp:FGPUScene::UploadGeneral()"}]},{type:a,value:" が参考になります。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:ea},children:[{type:b,tag:t,props:{href:eC,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cC}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"これは単に、構築した GPUScene のパラメータを RDG のリソースとしてセットアップする関数です。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:fa},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\n\tSceneUniforms"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Set"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"SceneUB"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"GPUScene"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:X,props:{id:be},children:[{type:b,tag:t,props:{href:eD,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:be}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"以上の内容で描画したいメッシュのセットアップは概ね完了しました。次に、描画処理を行うシェーダーを作成します。今回のシェーダーは以下のような要件を満たす必要があります。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"StaticMesh に割り当てられたマテリアルを使って描画することができる"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"UE の標準レンダリング機能と近い見た目を提供する"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"軽量である"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"特に、マテリアルアセットと組み合わせて利用できるシェーダーの定義にはいくつか考慮すべきポイントがあるため、それについても解説します。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:eb},children:[{type:b,tag:t,props:{href:eE,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cD}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"まずは Shader の C++ 定義です。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* TinyRenderer の VS\u002FPS 共通で利用する機能を定義 *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"namespace"}]},{type:a,value:" TinyRendererShader\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* シェーダーのコンパイル環境を変更 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dy},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* GPUScene は利用するが、InstanceCulling は不要 *\u002F"}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"USE_INSTANCE_CULLING_DATA\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"USE_INSTANCE_CULLING\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 任意の ShaderPermutation に対してコンパイルを行うかどうかを判定 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:" FName "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"FLocalVertexFactory\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"MaterialDomain "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dr}]},{type:a,value:" MD_Surface"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dt}]},{type:a,value:"\n\t\t\tParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"VertexFactoryType "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dr}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"FindVertexFactoryType"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* TinyRenderer の頂点シェーダー C++ 定義 *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bm}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cd}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,dA]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ba}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gi}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dy},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:gk}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* TinyRenderer のピクセルシェーダー C++ 定義 *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bm}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dB}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,dA]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ba}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gi}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dy},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:gk}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* PixelShader 特有の環境定義を追加 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* ライトベイクは行わないので、ライトマップ系機能は不要 *\u002F"}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"NEEDS_LIGHTMAP_COORDINATE\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 独自の出力を行うため、通常の SceneTexture は不要 *\u002F"}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"SCENE_TEXTURES_DISABLED\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2#shader-%E3%81%AF%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E6%89%B1%E3%82%8F%E3%82%8C%E3%82%8B%E3%81%AE%E3%81%8B",rel:[ac,ad,ae],target:af},children:[{type:a,value:fd}]},{type:a,value:" でも説明しましたが、UE のシェーダーは C++ 側の定義クラスと USF(HLSLもどき) 実装のペアで構成されます。\nC++定義クラスの派生元としては、よく "},{type:b,tag:y,props:{},children:[{type:a,value:"FGlobalShader"}]},{type:a,value:" が使われますが、これをマテリアルと組み合わせて利用するのは少し面倒です。\nマテリアルと組み合わせて利用する場合には "},{type:b,tag:y,props:{},children:[{type:a,value:"FMaterialShader"}]},{type:a,value:" もしくは "},{type:b,tag:y,props:{},children:[{type:a,value:ba}]},{type:a,value:" の派生を定義することになり、特にメッシュ描画においては "},{type:b,tag:y,props:{},children:[{type:a,value:ba}]},{type:a,value:" を使うと便利です。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UE のマテリアルアセットは、背後でシェーダーコードを生成します。しかし、このコードはそれ単体で動作するものではなく、別のテキストで実装されたシェーダーからコードの断片として利用されてはじめて機能します。\nつまり UE のマテリアルとは、テキストのシェーダーが公開したカスタマイゼーションポイントを埋めるコードを生成するためのツールなのです。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"このため、マテリアルとそれを利用するシェーダーは、常に組み合わせて合わせてコンパイルされる必要があります。組み合わせは 1対1 ではなく多対多の関係になり、このあらゆる組み合わせのことを ShaderPermutation と呼びます。\nしかし、すべてのシェーダーとマテリアルに互換性があるわけではありません。たとえば、材質のマテリアルと組み合わせるシェーダーはポスプロのマテリアルとは互換性がありません。\nまた、互換性があっても、目的として利用しない組み合わせまでコンパイルしてしまうと、組み合わせ爆発によって長大なシェーダーコンパイルを引き起こす可能性があります。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"そこで上記のコードのように、 "},{type:b,tag:y,props:{},children:[{type:a,value:a$}]},{type:a,value:" という関数を使ってシェーダーのコンパイル環境に対してフィルタリングを行います。今回のケースでは、 StaticMesh のレンダリングにさえ対応していればよいため、 組み合わせるマテリアルのドメインが "},{type:b,tag:y,props:{},children:[{type:a,value:"MD_Surface"}]},{type:a,value:" であることと、適応するメッシュの頂点ファクトリが "},{type:b,tag:y,props:{},children:[{type:a,value:fX}]},{type:a,value:" であることを条件としています。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"より詳しくは "},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2\u002F#%E3%82%B7%E3%82%A7%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E8%A8%AD%E5%AE%9A",rel:[ac,ad,ae],target:af},children:[{type:a,value:"前回記事のシェーダーのコンパイル設定のセクション"}]},{type:a,value:c$}]},{type:a,value:f},{type:b,tag:ag,props:{id:bf},children:[{type:b,tag:t,props:{href:eF,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bf}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UE では、HLSL をベースにした USF というファイル形式でシェーダーコードを記述します。USF をもとに各プラットフォーム向けのシェーダーコードが生成され、コンパイルされるため、共通のコードでクロスプラットフォームのシェーダーを記述することができます。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[cf]},children:[{type:b,tag:y,props:{className:[cf]},children:[{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:gl}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:gm}]}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* Vertex Shader から Pixel Shader へ受け渡すデータ *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"FTinyRendererVSToPS"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:a,value:" Position "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:" SV_POSITION"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:a,value:" PixelPosition "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:" POSITION8"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tFVertexFactoryInterpolantsVSToPS FactoryInterpolants"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* Vertex Shader *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"MainVS"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FVertexFactoryInput Input"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:gn}]},{type:a,value:" FTinyRendererVSToPS Output"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:go},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\n\n\t"},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* GPUScene から現在の処理対象のインスタンスの情報を取得 *\u002F"}]},{type:a,value:"\n\tFVertexFactoryIntermediates VFIntermediates "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetVertexFactoryIntermediates"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* InstanceCullingData を Off にしていると、以下のフラグが常に false になってしまい、マテリアルが要求しても WPO が評価されない *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* このフラグが true でも、マテリアルが要求していない場合は WPO は評価されないので負荷の心配は不要 *\u002F"}]},{type:a,value:"\n\tVFIntermediates"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"bEvaluateWorldPositionOffset "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:a,value:" WorldPositionExcludingWPO "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"VertexFactoryGetWorldPosition"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:a,value:" WorldPos "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" WorldPositionExcludingWPO"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"float3x3"}]},{type:a,value:" TangentToLocal "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"VertexFactoryGetTangentToLocal"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* マテリアルが生成した VertexShader 用のコードを呼び出し、結果を取得 *\u002F"}]},{type:a,value:"\n\tFMaterialVertexParameters VertexParameters "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" TangentToLocal"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* マテリアルが生成した WorldPositionOffset を適用 *\u002F"}]},{type:a,value:"\n\tWorldPos"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"xyz "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:gs}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"VertexParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* PixelShader に渡すデータを設定 *\u002F"}]},{type:a,value:dD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Position "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"INVARIANT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"mul"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"WorldPos"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"TranslatedWorldToClip"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"PixelPosition "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:gr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"FactoryInterpolants "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"VertexFactoryGetInterpolantsVSToPS"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" VertexParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"このシェーダーは、UE の標準頂点シェーダーを簡略化したような実装になっています。 重要なのは、 "},{type:b,tag:y,props:{},children:[{type:a,value:gq}]},{type:a,value:" や "},{type:b,tag:y,props:{},children:[{type:a,value:dC}]},{type:a,value:" などの関数呼び出しです。これらは、マテリアルが生成したシェーダーコードを呼び出し、その結果を取得するための関数です。\nどのマテリアルと組み合わせてコンパイルされるかの制御は C++ 側で行われるので、シェーダー側では "},{type:b,tag:y,props:{},children:[{type:a,value:"\u002FEngine\u002FGenerated\u002FMaterial.ush"}]},{type:a,value:" などのヘッダーファイルをインクルードすることで、任意のマテリアルと組み合わせたときのシェーダーコードを取得することができます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"有り体に言えば、 "},{type:b,tag:y,props:{},children:[{type:a,value:dC}]},{type:a,value:" の値はマテリアルグラフで "},{type:b,tag:y,props:{},children:[{type:a,value:"WorldPositionOffset"}]},{type:a,value:" に繋いだワイヤーの値がそのまま出てくるということです。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"また、 GPUScene を有効にしているにもかかわらず InstanceCulling 機能を Off にしていると、 Primitive の InstanceCulling フラグが常に 0 になってしまい、マテリアルが要求しても WorldPositionOffset が評価されないという問題があります。\nこのため、シェーダー側で bEvaluateWorldPositionOffset を強制的に true にしています。ただし、マテリアルが要求していない場合は WPO は評価されないため、負荷の心配は不要です。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:bg},children:[{type:b,tag:t,props:{href:eG,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bg}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"続いて、ピクセルシェーダーの実装です。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[cf]},children:[{type:b,tag:y,props:{className:[cf]},children:[{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:"define"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,"macro-name"]},children:[{type:a,value:"SUPPORT_CONTACT_SHADOWS"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,"expression"]},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]}]}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"\u002FEngine\u002FPrivate\u002FBasePassCommon.ush\""}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:gl}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"\u002FEngine\u002FPrivate\u002FShadingModelsMaterial.ush\""}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:gm}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aA,aB]},children:[{type:b,tag:c,props:{className:[d,aC]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,n,aE]},children:[{type:a,value:aO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"\u002FEngine\u002FPrivate\u002FDeferredLightingCommon.ush\""}]}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* Pixel Shader *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"MainPS"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"in"}]},{type:a,value:" FTinyRendererVSToPS Interpolants"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:gn}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:a,value:" OutColor "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:" SV_Target0\n\tOPTIONAL_IsFrontFace"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:go},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:dE}]},{type:a,value:" WorldPosition "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"PixelPosition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* マテリアルが生成した PixelShader 用のコードを呼び出し、結果を取得 *\u002F"}]},{type:a,value:"\n\tFMaterialPixelParameters MaterialParameters "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\t\tInterpolants"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"FactoryInterpolants"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tFPixelMaterialInputs PixelMaterialInputs"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* スクリーン座標系の位置を取得 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:a,value:" ScreenPosition "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SvPositionToResolvedScreenPosition"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"Interpolants"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* マテリアルから更に追加のパラメータを取得 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CalcMaterialParametersEx"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" ScreenPosition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" bIsFrontFace"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t                         WorldPosition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" WorldPosition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* マテリアルの各種出力を取得 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialCoverageAndClipping"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ci}]},{type:a,value:" Opacity "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialOpacity"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bz}]},{type:a,value:" BaseColor "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialBaseColor"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ci}]},{type:a,value:" Metallic "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialMetallic"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ci}]},{type:a,value:" Specular "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialSpecular"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ci}]},{type:a,value:" Roughness "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"max"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"0.015625f"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialRoughness"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bA}]},{type:a,value:" Anisotropy "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialAnisotropy"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"uint"}]},{type:a,value:" ShadingModelID "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialShadingModel"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* GBuffer (という名前の構造体) にマテリアルの各種出力を設定。テクスチャリソースとしての GBuffer はここでは使われていないので注意 *\u002F"}]},{type:a,value:"\n\tFGBufferData GBuffer "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FGBufferData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Depth "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" MaterialParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"ScreenPosition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"w"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetGBufferForShadingModel"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tMaterialParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tOpacity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tBaseColor"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tMetallic"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tSpecular"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tRoughness"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tAnisotropy"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tShadingModelID"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* スペキュラカラーやディフューズカラーを計算 *\u002F"}]},{type:a,value:dH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"ComputeF0"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"GBuffer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Specular"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"BaseColor"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:dI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"DiffuseOverrideParameter"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:gy}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n\t\t\tDiffuseOverrideParameter"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"SpecularOverrideParameter"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:gy}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n\t\t\tSpecularOverrideParameter"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bz}]},{type:a,value:" DiffuseColor "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"0.05f"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bz}]},{type:a,value:" CameraVector "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"CameraVector"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bA}]},{type:a,value:" DirectionalLightShadow "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* Directional Light の設定 *\u002F"}]},{type:a,value:"\n\tFDeferredLightData LightData "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FDeferredLightData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Color "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:dE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"FalloffExponent "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Direction "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:dE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:dK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:dK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:dK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"bRadialLight "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"SpecularScale "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"ShadowedBits "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"HairTransmittance "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"InitHairTransmittanceData"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"half4"}]},{type:a,value:" LightAttenuation "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* ライティングを計算 *\u002F"}]},{type:a,value:"\n\tFLightAccumulator DirectionalLighting "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"AccumulateDynamicLighting"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"WorldPosition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" CameraVector"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" ShadingModelID"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" LightData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                          LightAttenuation"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"uint2"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                          DirectionalLightShadow"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bz}]},{type:a,value:" Color "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" DirectionalLighting"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"TotalLight"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 最後にエミッシブカラーを加算 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bz}]},{type:a,value:" Emissive "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialEmissive"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tColor "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:gs}]},{type:a,value:" Emissive"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 最終的な色を出力 *\u002F"}]},{type:a,value:"\n\tOutColor "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"Color"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"rgb"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"このピクセルシェーダーは、UE のモバイル向け BasePass を参考に、固定された DirectionalLight による照明のみを行うようにしたシンプルなものです。単一メッシュであるため、反射や GI などの機能も無視することができます。\nエンジンのために便利なユーティリティが多数用意されているため、照明計算やマテリアルのパラメータ取得なども比較的簡単に行うことができます。シェーディングモデルなども流用可能です。また、そのようにすることで、UE の標準レンダリング機能と近い見た目を提供することができます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:gt}]},{type:a,value:" は、頂点シェーダーで取得した情報をもとに、マテリアルが生成したピクセルシェーダー用のコードを呼び出し、その結果を取得するための関数です。これにより、マテリアルのピクセルシェーダー向け出力を取得することができます。\nほかにもいくつかマテリアルからの出力を取得して利用しています。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:ec},children:[{type:b,tag:t,props:{href:eH,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cE}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"作成したシェーダーの C++ 定義と USF 実装を関連付けて登録します。また、シェーダーが利用するパラメータ構造体を RDG が提供するマクロを使って定義します。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* TinyRenderer の頂点シェーダーとピクセルシェーダーの実装 (.usf ファイル) と C++ 定義を関連付けて登録 *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" FTinyRendererShaderVS"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:gA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"MainVS\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" SF_Vertex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:gA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"MainPS\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" SF_Pixel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* TinyRenderer のシェーダーが利用するパラメータ構造体を定義 *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"BEGIN_SHADER_PARAMETER_STRUCT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SHADER_PARAMETER_STRUCT_REF"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FViewUniformShaderParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SHADER_PARAMETER_RDG_UNIFORM_BUFFER"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FSceneUniformParameters"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" Scene"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SHADER_PARAMETER_STRUCT_INCLUDE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FInstanceCullingDrawParams"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" InstanceCullingDrawParams"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"RENDER_TARGET_BINDING_SLOTS"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"END_SHADER_PARAMETER_STRUCT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"これにより、C++ の定義クラスと USF の実装が関連付けられるため、 C++ 定義クラスを使ってシェーダーを指定したり、 RDG のパラメータ構造体を使ってシェーダーにパラメータを渡すことができるようになります。\n特に RDG のマクロによるパラメータ定義は便利です。主機能としては C++ 構造体を定義するマクロなのですが、同時にパラメータの名前やシェーダー側での参照名などのメタデータを定義してくれます。\n手動でシェーダーへのパラメータのバインディングを書かなくても、RDG パスへパラメータ構造体として渡すだけで、名前や型をもとにバインディングやライフタイム管理を行ってくれます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"上で一度みたコードですが、パラメータ構造体を RDG のパスにわたしている部分のコードを再度見てみます。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F パラメータ構造体の確保を行う"}]},{type:a,value:"\nFTinyRendererShaderParameters"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:fk},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fl}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F パラメータ構造体にパラメータをセット"}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fm},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F RenderTargets は RENDER_TARGET_BINDING_SLOTS マクロで定義されたスロットを指している。"}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tERenderTargetLoadAction"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ft},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gC},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gC},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:fx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFExclusiveDepthStencil"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F パラメータ構造体 (PassParameters) を RDG のパスに渡す。これだけで RDG がシェーダーへのパラメータのバインディングやライフタイム管理を行ってくれる"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\tGraphBuilder"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:fz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\tView"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:fA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fB},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:fC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fD},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F 省略。パスの実装"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"特にリソース管理を人間が書かなくていいのは大きな利点と言えるでしょう。 注意点として、RDG が管理しているリソース(特に ~Ref みたいな型のリソース)はパスの外側ではまだ確保されていないことが普通です。そのため、リソースの実体にアクセスするためには AddPass や AddSimpleMeshPass などのパス実装の中で行う必要があります。\nRDG はパスとそれが必要とするリソースを紐づけて管理することで、リソースを最適化するため、。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"つまり、RDG で定義したパラメータ構造体を RDG パスに渡すというのは、構造体に含まれるリソースをメタデータをもとに列挙させ、必要に応じてリソースを確保・解放してもらうということになります。"}]},{type:a,value:f},{type:b,tag:X,props:{id:ed},children:[{type:b,tag:t,props:{href:cS,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cF}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"さて、CPU 側でのメッシュの準備と、GPU 側でそれを処理するシェーダーが準備できたので、それらを使って描画パスを発行する MeshPassProcessor を作成します。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:ee},children:[{type:b,tag:t,props:{href:eI,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:aR}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bm}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aR}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,dA]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cm}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FSceneView"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:dL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                   FMeshPassDrawListContext"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:gD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dL},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t  "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"InView"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* メッシュ描画時の RenderState を設定。パイプラインの挙動を制御することになる *\u002F"}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetBlendState"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"TStaticBlendState"}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetDepthStencilAccess"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FExclusiveDepthStencil"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetDepthStencilState"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"TStaticDepthStencilState"}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* この MeshPassProcessor を通じて指定された MeshBatch のメッシュ描画コマンドをコマンドリストに追加する処理 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aH}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gI},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" MaterialResource"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" int32 StaticMeshId"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* MeshBatch が利用する VertexFactory を取得 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FVertexFactory"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:fR},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\tTMeshProcessorShaders"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:cd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gB},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:a,value:gK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* MeshBatch が利用する ShaderType を登録 *\u002F"}]},{type:a,value:"\n\t\tFMaterialShaderTypes ShaderTypes"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gM}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:cd},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gM}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:dB},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 上で登録した ShaderType と MeshBatch に割り当てられたマテリアルをもとに、実際に利用するシェーダーコードたちを取得 *\u002F"}]},{type:a,value:"\n\t\tFMaterialShaders Shaders"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FVertexFactoryType"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" VertexFactoryType "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:fS},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetType"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"TryGetShaders"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"ShaderTypes"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" VertexFactoryType"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" Shaders"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 頂点シェーダーとピクセルシェーダーを取得 *\u002F"}]},{type:a,value:gN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"TryGetVertexShader"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"TryGetPixelShader"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* メッシュ描画時の RenderState を設定 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FMeshPassProcessorRenderState "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"DrawRenderState"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"PassDrawRenderState"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\t\tFMeshMaterialShaderElementData ShaderElementData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\tShaderElementData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"InitializeMeshMaterialData"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"ViewIfDynamicMeshCommand"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t                                             MeshBatch"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FMeshDrawCommandSortKey SortKey "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CalculateMeshStaticSortKey"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* ラスタライザの FillMode と CullMode を設定 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FMeshDrawingPolicyOverrideSettings OverrideSettings "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"ComputeMeshOverrideSettings"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" ERasterizerFillMode MeshFillMode "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"ComputeMeshFillMode"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" ERasterizerCullMode MeshCullMode "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"ComputeMeshCullMode"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* MeshBatch に対応する描画コマンドを作成し、内部でコマンドリストに追加 *\u002F"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"BuildMeshDrawCommands"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:fW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tBatchElementMask"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tPrimitiveSceneProxy"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tMaterialRenderProxy"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tMaterialResource"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tDrawRenderState"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tMeshFillMode"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tMeshCullMode"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tSortKey"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tEMeshPassFeatures"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"Default"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\tShaderElementData"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"virtual"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:dl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dO},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dO},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dO},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" int32 StaticMeshId "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"override"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" MaterialRenderProxy "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"while"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:gI},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" MaterialResource "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetMaterialNoFallback"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\t\t\tMaterialResource "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dt}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" BatchElementMask"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\t\t                                    "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:dm},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"break"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 最初に取得したマテリアルが利用できなかったりコマンドの作成に失敗した場合は、Fallback のマテリアルを試す。"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\t\t\t   Fallback のマテリアルがない場合には nullptr が返るので、ループを抜ける *\u002F"}]},{type:a,value:"\n\t\t\tMaterialRenderProxy "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetFallback"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:cW}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:"\n\tFMeshPassProcessorRenderState PassDrawRenderState"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tERHIFeatureLevel"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:fb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"MeshPassProcessor は、UE が提供する "},{type:b,tag:y,props:{},children:[{type:a,value:cm}]},{type:a,value:" を継承して作成するもので、シェーダーとそのパラメータをもとにメッシュ描画コマンドを発行します。詳細は"},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer-2\u002F#%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0",rel:[ac,ad,ae],target:af},children:[{type:a,value:"前回記事"}]},{type:a,value:"および"},{type:b,tag:t,props:{href:"https:\u002F\u002Fdev.epicgames.com\u002Fdocumentation\u002Fja-jp\u002Funreal-engine\u002Fmesh-drawing-pipeline-in-unreal-engine#fmeshpassprocessor",rel:[ac,ad,ae],target:af},children:[{type:a,value:"公式ドキュメント"}]},{type:a,value:"を参考にしてください。\nここで発行されたメッシュ描画コマンドが、更に RHI コマンド、プラットフォーム API へと変換され GPU に送信されることで描画が行われます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:cm}]},{type:a,value:" には GPU のメッシュ描画バイプラインを設定するための便利な機能が多数用意されています。DepthStencil、BlendState、FillMode、CullMode などの設定を行うことで、描画の挙動を制御することができます。\nまた、上記の実装では、USF によるシェーダー実装とマテリアルをあわせて利用する方法も示されています。"}]},{type:a,value:f},{type:b,tag:ar,props:{id:"bp-ラッパーの作成"},children:[{type:b,tag:t,props:{href:eJ,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:eK}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"作成したレンダラを BP から利用するためのラッパーを作成します。\n基本的には単なる BP 向けクラスなのですべては解説しませんが、特に参考になりそうな部分のみ解説します。"}]},{type:a,value:f},{type:b,tag:X,props:{id:ef},children:[{type:b,tag:t,props:{href:eL,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cG}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"以下のような単純な API の BP クラスを作成しました。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"UCLASS"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"BlueprintType"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bm}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"STATICMESHRENDERER_API"}]},{type:a,value:" UTinyRenderer "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:a,value:" UObject\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GENERATED_BODY"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* レンダーターゲットを指定して TinyRenderer を作成 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"Tiny Renderer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\tmeta "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"AutoCreateRefTerm "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"BackgroundColor\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" WorldContext "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"WorldContextObject\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:az}]},{type:a,value:" UTinyRenderer"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CreateTinyRenderer"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"UObject"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" WorldContextObject"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                         UTextureRenderTarget2D"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:cq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 描画する StaticMesh をセット *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:dR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" int32 LODIndex"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FTransform"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:eZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 描画を行う *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:dR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* カメラの設定 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"BlueprintReadWrite"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:dR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n\tFMinimalViewInfo ViewInfo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:cW}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:$}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F\u002F 省略"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:X,props:{id:eg},children:[{type:b,tag:t,props:{href:eM,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cH}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UE では、描画には ViewFamily という構造体が必要です。今回作成したレンダラでも、共通した ViewFamily の設定に基づいて描画を行うように実装していました。\nViewFamily を構築するにあたっても、よく利用するカメラ設定と共通の項目で設定できたほうが便利です。そこで、 "},{type:b,tag:y,props:{},children:[{type:a,value:dS}]},{type:a,value:" という構造体を設定項目として受け付けるようにしました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:"FMimalViewInfo"}]},{type:a,value:" も UE が提供している View 設定の構造体で、以下のような内容を持ちます。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GENERATED_USTRUCT_BODY"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F** Location *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n\tFVector Location"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F** Rotation *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n\tFRotator Rotation"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F** The horizontal field of view (in degrees) in perspective mode (ignored in orthographic mode). *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bA}]},{type:a,value:" FOV"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F** The originally desired horizontal field of view before any adjustments to account for different aspect ratios *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"Transient"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bA}]},{type:a,value:" DesiredFOV"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F** The desired width (in world units) of the orthographic view (ignored in Perspective mode) *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bA}]},{type:a,value:" OrthoWidth"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" 以下省略\n"}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"このように、よく見る UE のカメラ設定と同じような項目を持っていることがわかります。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:eh},children:[{type:b,tag:t,props:{href:eN,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cI}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"UTinyRenderer は、内部で FTinyRenderer オブジェクトを保持しています。 UTinyRenderer::Renderer では FTinyRenderer の Render を呼び出すことで描画を行いますが、それ以外にも ViewFamily の初期化や RDGBuilder の作成と実行といった重要な処理を行っています。"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[O]},children:[{type:b,tag:y,props:{className:[O]},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gU}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:da}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"UTinyRenderer_Render"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:gV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:a,value:"StaticMesh "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"||"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"LogTemp"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"UStaticMeshRenderBP::RenderStaticMesh: Invalid parameters\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* RenderTaget から 描画リソースを取得 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FTextureRenderTargetResource"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:" RenderTargetResource "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:cq},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GameThread_GetRenderTargetResource"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\n\n\t"},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* ViewFamily オブジェクトの作成 *\u002F"}]},{type:a,value:"\n\tFSceneViewFamily"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"ConstructionValues "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"RenderTargetResource"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"FEngineShowFlags"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"ESFIM_Game"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tConstructionValues"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetTime"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"FGameTime"}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetTimeSinceAppStart"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tTUniquePtr"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:gX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]},{type:a,value:" ViewFamily "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,aI]},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"MakeUnique"}]},{type:b,tag:c,props:{className:[d,G,aJ]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:gX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:U}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* ScreenPercentage の無効化 *\u002F"}]},{type:a,value:gY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:"EngineShowFlags"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"ScreenPercentage "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetScreenPercentageInterface"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"new"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"FLegacyScreenPercentageDriver"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* MinimalViewInfo から ViewInitOptions を作成 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" FIntRect "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cq},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:"SizeX"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cq},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:M}]},{type:a,value:"SizeY"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\tFSceneViewInitOptions ViewInitOptions"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"SetViewRectangle"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:gZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"ViewOrigin "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"Location"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"ViewRotationMatrix "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"FMatrix"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"FOV "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"DesiredFOV "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:dT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 投影行列を計算し、ViewInitOptions に設定 *\u002F"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dS}]},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CalculateProjectionMatrixGivenViewRectangle"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"ViewInfo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                              AspectRatio_MaintainYFOV"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                              ViewRect"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t                                                              ViewInitOptions"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ha}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FStaticMeshRenderCommand"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:g_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"MoveTemp"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" LODIndex "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" ViewInitOptions"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" StaticMesh "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" MeshTransform "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:q}]},{type:a,value:" Transform"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\t\tFRHICommandListImmediate"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:" RHICmdList"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"mutable"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:da}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"FStaticMeshRenderCommand_Render"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:gV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* TinyRenderer オブジェクトの作成 *\u002F"}]},{type:a,value:"\n\t\t\tFTinyRenderer "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Renderer"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:K}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* RenderThread で ViewFamily の初期化を完了 *\u002F"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"GetRendererModule"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"CreateAndInitSingleView"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:hb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C}]},{type:a,value:"ViewInitOptions"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* RDGBuilder の作成 *\u002F"}]},{type:a,value:"\n\t\t\tFRDGBuilder "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:hb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\t                         "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"\"StaticMeshRender\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n\t\t\t                         ERDGBuilderFlags"},{type:b,tag:c,props:{className:[d,e,D]},children:[{type:a,value:E}]},{type:a,value:"AllowParallelExecute"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* StaticMesh の設定 *\u002F"}]},{type:a,value:hc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"StaticMesh"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" MeshTransform"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"ToMatrixWithScale"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n\t\t\t\n\t\t\t"},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* 作成したレンダラによる描画処理の登録 *\u002F"}]},{type:a,value:hc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\u002F* RDGBuilder による RHI コマンドの発行と実行 *\u002F"}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"Execute"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"BP から設定された MinimalViewInfo には、投影モードや FOV などの情報が含まれています。これをもとに、 FSceneViewInitOptions という View 初期化オプション構造体を作成します。一部は手動で設定する必要がありますが、投影行列の計算といった複雑な部分は "},{type:b,tag:y,props:{},children:[{type:a,value:"FMinimalViewInfo::CalculateProjectionMatrixGivenViewRectangle"}]},{type:a,value:" を使って自動的に設定することができます。\nまた、これを利用することによって、UE のカメラと同じような挙動をさせることができます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:y,props:{},children:[{type:a,value:ha}]},{type:a,value:" マクロで囲まれた部分は、次の RenderThread 処理で実行するように予約される部分です。 ViewFamily の完全な初期化は RenderThread で行う必要があるため、こちらで書かれています。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"また、RGDBuilder や FTinyRenderer のオブジェクトもここで作成しています。これらは毎フレーム作成され、フレームの終了で破棄されるということです。\n最後には RDGBuilder に登録された描画処理を下に RHI コマンドの発行が行われます。\nこのように見ると、今回書いたレンダラは RDGBuilder に描画処理の登録を行うものであり、実際のコマンドの発行は RDGBuilder に任せていることがよくわかります。パスに関わるコマンドが一度 RDGBuilder に登録され、最後にまとめてコマンドを発行する仕組みになっていることで、不要な処理の最適化や、任意のリソースがどの期間存在していなければならないかの決定をすることができるのです。"}]},{type:a,value:f},{type:b,tag:ar,props:{id:bG},children:[{type:b,tag:t,props:{href:cO,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bG}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"簡単にですが、作成したレンダラのパフォーマンスを検証してみます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"以下の3つを比較してみます。"}]},{type:a,value:f},{type:b,tag:em,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"SceneCaptureComponent2D による描画 (よくやるやつ)"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"以前作成した FPreviewScene による描画"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"今回作成した単一パスレンダラ(TinyRenderer)の描画"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"その他詳細は以下のとおりです。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"Win64 Development Build"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"描画サイズは 500x500 で描画"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"サンプルのメッシュは\n"},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"Triangles: 19382"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"Vertices: 11556"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"Materials: 1"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"SceneCapture2D は SceneColor with SceneDepth をキャプチャし、マテリアルを使って深度で背景抜き。"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"FPreviewScene は FPreviewScene でレンダリング後、背景抜き。"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"TinyRenderer レンダリングしてそのまま表示 (RenderTarget の ClearColor を透明にしているので背景が描画されず、抜く必要がない)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"セットアップが雑で(特に SceneCapture2D は制御がしにくいため)少しずつ見た目が違いますが、調整すればほぼ同じ見た目にすることは可能と思われます。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bh},children:[{type:b,tag:t,props:{href:eO,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bh}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"検証環境は以下のとおりです。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"CPU: Ryzen 9 3900X 12-Core Processor"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"RAM: 128GB"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:a,value:"GPU: GeForce RTX 3080 10GB"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:ag,props:{id:ei},children:[{type:b,tag:t,props:{href:eP,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cJ}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"まずは、こんな比較画面のフレームを計測してみます。\n"},{type:b,tag:aS,props:{alt:an,src:er},children:[]},{type:a,value:"\nViewportSize: 1920x1080"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"Nsight Graphics の Scrubber を使って、フレーム内の描画処理を見てみます。\n"},{type:b,tag:aS,props:{alt:an,src:"\u002Farticle-assets\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3\u002F\u002Fnsight-scrubber.png"},children:[]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"注意: この横軸は時間ではありません。"}]},{type:a,value:f},{type:b,tag:P,props:{},children:[{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:bl,props:{style:"color: blue"},children:[{type:a,value:"青領域"}]},{type:a,value:": メインのViewportの描画処理"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:bl,props:{style:"color: red"},children:[{type:a,value:"赤領域"}]},{type:a,value:": SceneCapture2D による描画処理"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:bl,props:{style:"color: yellow"},children:[{type:a,value:"黃領域"}]},{type:a,value:": FPreviewScene による描画処理"}]},{type:a,value:f},{type:b,tag:v,props:{},children:[{type:b,tag:bl,props:{style:"color: green"},children:[{type:a,value:"緑領域"}]},{type:a,value:": TinyRenderer による描画処理"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"なんというか、驚異的です。メインの Viewport が最も大きな部分を占めているのは当然として、SceneCaptrue2D と FPreviewScene もそれなりに目立つ大きさで表示されています。また、処理内容としてもメインの Viewport と類似していて、Scene に対する一通りの描画処理が行われていそうなことがわかります。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"いっぽう、TinyRenderer はもはや Scrubber 上ではほとんど見えないほどに小さな処理で済んでいることが伺えます。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:bi},children:[{type:b,tag:t,props:{href:eQ,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bi}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"次に、各描画処理の処理時間を比較してみます。"}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:hd,props:{},children:[{type:b,tag:he,props:{},children:[{type:b,tag:aw,props:{},children:[{type:b,tag:bC,props:{},children:[{type:a,value:hf}]},{type:b,tag:bC,props:{},children:[{type:a,value:"処理時間"}]},{type:b,tag:bC,props:{},children:[{type:a,value:"フレーム内における割合"}]}]}]},{type:b,tag:hg,props:{},children:[{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:hh}]},{type:b,tag:S,props:{},children:[{type:a,value:"4.12 ms"}]},{type:b,tag:S,props:{},children:[{type:a,value:"17.4 %"}]}]},{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:bH}]},{type:b,tag:S,props:{},children:[{type:a,value:"1.11 ms"}]},{type:b,tag:S,props:{},children:[{type:a,value:"4.7 %"}]}]},{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:hi}]},{type:b,tag:S,props:{},children:[{type:a,value:"0.02 ms (16.38 μs)"}]},{type:b,tag:S,props:{},children:[{type:a,value:"0.1 %"}]}]},{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:"メインの Viewport(参考)"}]},{type:b,tag:S,props:{},children:[{type:a,value:"約 13 ms"}]},{type:b,tag:S,props:{},children:[{type:a,value:"約 55 %"}]}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"処理速度の面でも TinyRenderer が優位に立っています。また、詳しく計測していませんが、TinyRenderer は描画先の RenderTarget と Depth しか利用しないので、リソース面の優位性もあると思われます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:cN,props:{},children:[{type:a,value:"もちろん、他の描画手法も BasePass の該当メッシュの描画処理だけ抜き出せば TinyRenderer と同等程度の処理時間しかかかっていません。"}]},{type:a,value:" 冒頭の繰り返しになりますが、TinyRenderer は凄いことをしているわけではありません。 ただ、なにぶん標準の方法は単一メッシュ描画には不要な処理がほとんどすべてを占めてしまっており、それらを局所的に OFF にしたりすることにも限界があるため、全体としての処理時間が大きくなってしまっているのです。"}]},{type:a,value:f},{type:b,tag:ag,props:{id:ej},children:[{type:b,tag:t,props:{href:eR,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cK}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"この比較は FPreviewScene と TinyRenderer のみを対象に行いました。\nSceneCapture2D は描画したい数だけレベル上に Actor を配置する必要があるので、そもそも個別にメッシュを大量にレンダリングするのが大変すぎて検証からはずしました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"画面は以下のように、10x10 で 100 個の StaticMesh を個別に描画し、毎フレーム描画するようにしました。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:b,tag:aS,props:{alt:an,src:"\u002Farticle-assets\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3\u002F\u002F10x10.png"},children:[]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"以下が FPS の比較結果です。"}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:hd,props:{},children:[{type:b,tag:he,props:{},children:[{type:b,tag:aw,props:{},children:[{type:b,tag:bC,props:{},children:[{type:a,value:hf}]},{type:b,tag:bC,props:{},children:[{type:a,value:"平均 FPS"}]}]}]},{type:b,tag:hg,props:{},children:[{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:hi}]},{type:b,tag:S,props:{},children:[{type:a,value:"43.0 FPS"}]}]},{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:bH}]},{type:b,tag:S,props:{},children:[{type:a,value:"2.2 FPS"}]}]},{type:b,tag:aw,props:{},children:[{type:b,tag:S,props:{},children:[{type:a,value:hh}]},{type:b,tag:S,props:{},children:[{type:a,value:"100 個配置してRenderTarget設定するやつ作るの面倒すぎて検証してない"}]}]}]}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"やはり、 FPS にも大きな差が出ました。TinyRenderer は 2万ポリゴン近いメッシュを 100 個描画しても 40 FPS 程度で安定しているので、軽量なメッシュをインベントリで並べて表示するくらいの用途では十分な速度が得られると思われます。\nいっぽう、 "},{type:b,tag:t,props:{href:"https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer\u002F#%E7%8B%AC%E8%87%AA%E3%81%AE%E5%B0%82%E7%94%A8%E3%82%B7%E3%83%BC%E3%83%B3%E3%82%92%E7%94%A8%E6%84%8F%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E3%81%8B",rel:[ac,ad,ae],target:af},children:[{type:a,value:bH}]},{type:a,value:" は設定によって SceneCapture2D よりは軽量であるはずですが、実用的な速度にはなりませんでした。"}]},{type:a,value:f},{type:b,tag:ar,props:{id:cT},children:[{type:b,tag:t,props:{href:eS,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cT}]},{type:a,value:f},{type:b,tag:X,props:{id:ek},children:[{type:b,tag:t,props:{href:eT,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cL}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"現在、TinyRenderer は Opaque な BlendMode のマテリアルのみをサポートしています。半透明等の BlendMode もサポートするためには、ピクセルシェーダーの実装を変更する必要があります。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bj},children:[{type:b,tag:t,props:{href:eU,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bj}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"現在は一つの DirectionalLight のみをサポートしています。また、パラメータも固定されています。ピクセルシェーダーの変更によって、複数のライトやポイントライト、スポットライトなどのライトのサポートを追加することができます。"}]},{type:a,value:f},{type:b,tag:X,props:{id:el},children:[{type:b,tag:t,props:{href:eV,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cM}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"TinyRenderer のための MeshMaterialShader は、TinyRenderer で描画を行わないマテリアルなどに対しても組み合わせが作成されてしまいます。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"何らかの方法で、TinyRenderer で利用したいマテリアルのみを設定できれば、TinyRenderer のためにシェーダーコンパイル時間が伸びる懸念を解消できますし、レンダラのシェーダーを変更したときの作業のイテレーションも早くなります。"}]},{type:a,value:f},{type:b,tag:X,props:{id:bk},children:[{type:b,tag:t,props:{href:eW,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:bk}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"すでに十分に高速ではありますが、主に CPU 側での描画コマンドの発行についてはまだ最適化の余地があります。というのも、現在の実装では毎フレーム MeshBatch や MeshDrawCommand の作成を1から行っています。\nこれらについては、フレームをまたいで再利用を行う実装を考えることは十分に可能であり、(実際にエンジンの StaticMesh を使ったシーン描画はそのようになっており)、さらなるパフォーマンスの向上が期待できます。"}]},{type:a,value:f},{type:b,tag:ar,props:{id:cU},children:[{type:b,tag:t,props:{href:eX,ariaHidden:F,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:cU}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"今回の記事では、シンプルな StaticMesh レンダラである TinyRenderer の紹介と、その実装方法について解説しました。TinyRenderer は目的のために必要なこと以外を何もしないことで高速に動作します。\nUE の RHI や RDG、マテリアルといったグラフィックス機能は、エディタの背後で動くだけでなく、プラグイン実装のために柔軟に利用することができます。TinyRenderer の実装も、それらのお陰でかなりシンプルに実現されています。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"記事内でも触れましたが、TinyRenderer はあくまで単一メッシュの描画に特化したものであり、複数のメッシュやライト、半透明などの複雑な描画を行う場合には、通常の UE の描画パスを利用することが望ましいです。また、見た目に関しても通常の UE の描画パスとは完全に一致するわけではないため、その点も注意が必要です。\n単純に BP から制御してメッシュ描画を行いたい場合には、 FPreviewScene などの手法を取るのが適切と言えます。いくつかの個数のメッシュを少し表示したいだけであれば、 SceneCapture2D で頑張るのでも十分でしょう。"}]},{type:a,value:f},{type:b,tag:s,props:{},children:[{type:a,value:"現時点では、技術的には可能でも実装していないことも多数あるため、今後気が向いたら改善していくかもしれません。よければ改造して遊んでみたり、Issue や PR を投げてもらえると楽しいので助かります。"}]}]},dir:"\u002Farticles\u002Funrealengine",path:hj,extension:".md",createdAt:hk,updatedAt:hk,gitCreatedAt:"2024-04-07T13:56:00.000Z",gitUpdatedAt:"2024-04-10T13:32:29.000Z"},path:hj}],fetch:{"data-v-08b63208:0":{prevTitle:an,nextTitle:an,existPrev:hl,existNext:hl,prevSlug:an,nextSlug:an,seriesPage:an}},mutations:void 0}}("text","element","span","token","punctuation","\n","operator","(",")"," ",";",",","function","keyword",".","\n\t","=","comment","p","a","\n\t\t","li","const","number","code","{","}","\n\n\t","&","double-colon","::","true","class-name",-1,"icon","icon-link","*","0","-\u003E","string","language-cpp","ul","\n\t\t\t","\u003C","td"," GraphBuilder","\u003E","TEXT",2,"h2","div","remark-highlight","pre",":","void",3,"nofollow","noopener","noreferrer","_blank","h3","return","1","\n\n\t\t","boolean","[","]","","\n\n","if","FTinyRenderer","h1"," Parameters","GraphBuilder","nullptr"," GBuffer","tr","FRDGBuilder","false","static","macro","property","directive-hash","#","directive","PixelMaterialInputs","public","bool","generic-function","generic","\n\t\tGPUSceneParameters","ModifyCompilationEnvironment"," OutEnvironment","Parameters","include","float4","\n\t\tLightData","FTinyRendererBasePassMeshProcessor","img"," InStaticMesh","Render","\n\t                     "," RequiredFeatures","View","-","\n\t\tBatchElement","\n\t                                                          ","ShouldCompilePermutation","FMeshMaterialShader","UPROPERTY","\n\tViewInitOptions","レンダリング呼び出しの流れ","マテリアルを利用した描画処理を行えるシェーダーの作成","独自メッシュ描画パス処理の頂点シェーダー実装","独自メッシュ描画パス処理のピクセルシェーダー実装","比較","フレーム内処理時間の比較","ライティングの拡張","パフォーマンスの改善","b","class","UStaticMesh","\n\t\n\t","SetupSceneTextures","RenderBasePass","FMeshBatch","!"," MeshBatches","MeshBatch"," MeshBatch","CreateSRV","Input"," ResolvedView","half3","float","1.0f","th","簡単な使い方","パフォーマンス","このプラグインでできないこと","パフォーマンスの検証","FPreviewScene","SetStaticMesh","struct","SetupGPUSceneResourceParameters"," ViewFamily"," StaticMesh","RenderTarget"," FColor","ViewFamily","\n\tPassParameters","RenderTargets","SceneTextures","EClear","AddSimpleMeshPass","MaterialRenderProxy","\n\t\tMeshBatch"," Section","\n\n\t\t\t","FeatureLevel","\n\t\t                        ","0.0f","\n\t\tOutEnvironment","SetDefine","MaterialParameters","FTinyRendererShaderVS","TinyRendererShader","language-hlsl"," VFIntermediates","xyz","half","DiffuseColor ","\n                                 ","\nPassParameters","FMeshPassProcessor"," PrimitiveSceneProxy","MaterialResource"," Category "," RenderTarget","EditAnywhere"," BlueprintReadWrite"," Category","Camera","レンダラクラス FTinyRenderer の定義","FTinyRenderer::SetupSceneTextures","FTinyRenderer::RenderBasePass","StaticMesh から直接 MeshBatch を作成する","FTinyRenderer::CreateMeshBatch","GPUScene のためのパラメータをセットアップする","FTinyRenderer::SetupGPUSceneResourceParameters","FTinyRenderer::SetGPUSceneResourceParameters","FTinyRendererShader (VS\u002FPS) の C++ 定義","シェーダーの登録と RDG によるパラメータ定義","MeshBatch の描画命令を発行する MeshPassProcessor","API の定義","カメラ設定 (FMinimalViewInfo) から ViewFamily の構築","UTinyRenderer::Renderer","Nsight Graphics の Scrubber を眺める","いっぱい描画したときの FPS の比較","Opaque 以外の BlendMode の対応","Shader Permutaion の最適化","strong","#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E6%A4%9C%E8%A8%BC","おおまかな仕組みとコンセプト","#staticmesh-%E3%81%8B%E3%82%89%E7%9B%B4%E6%8E%A5-meshbatch-%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B","#gpuscene-%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%82%92%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E3%81%99%E3%82%8B","#meshbatch-%E3%81%AE%E6%8F%8F%E7%94%BB%E5%91%BD%E4%BB%A4%E3%82%92%E7%99%BA%E8%A1%8C%E3%81%99%E3%82%8B-meshpassprocessor","さらなる改善可能性","まとめ"," int32 InLODIndex","private"," FTinySceneTextures"," SceneTextures","CreateMeshBatch","SetGPUSceneResourceParameters"," を参照してください。","SCOPED_NAMED_EVENT","Get","UE_LOG"," Warning"," LODIndex","FTinyRendererShaderParameters"," View","DepthWrite_StencilWrite","RDG_EVENT_NAME"," DynamicMeshPassContext","for"," FMeshBatch","\n\t\t\t\t","GetFeatureLevel"," RenderData","LODResources","LODResourceIndex","==","VertexFactory","&&","LocalToWorld","FInstanceSceneShaderData","\n\t\t\tGraphBuilder"," FMaterialShaderPermutationParameters","\n\t                                         FShaderCompilerEnvironment"," FMeshMaterialShaderPermutationParameters","base-clause","FTinyRendererShaderPS","GetMaterialWorldPositionOffset","\n\tOutput","float3"," Interpolants","Position","\n\tGBuffer","\n\t\tGBuffer","SpecularColor ","0.5"," InView","\n\t\tPassDrawRenderState"," MaterialRenderProxy","\n\t                          ","UFUNCTION","BlueprintCallable","\"Static Mesh Renderer\"","FMinimalViewInfo"," ViewInfo","2024\u002F04\u002F10","レンダラクラス-ftinyrenderer-の定義","ftinyrenderersetupscenetextures","ftinyrendererrenderbasepass","staticmesh-から直接-meshbatch-を作成する","ftinyrenderercreatemeshbatch","gpuscene-のためのパラメータをセットアップする","ftinyrenderersetupgpusceneresourceparameters","ftinyrenderersetgpusceneresourceparameters","ftinyrenderershader-vsps-の-c-定義","シェーダーの登録と-rdg-によるパラメータ定義","meshbatch-の描画命令を発行する-meshpassprocessor","ftinyrendererbasepassmeshprocessor","api-の定義","カメラ設定-fminimalviewinfo-から-viewfamily-の構築","utinyrendererrenderer","nsight-graphics-の-scrubber-を眺める","いっぱい描画したときの-fps-の比較","opaque-以外の-blendmode-の対応","shader-permutaion-の最適化","ol","https:\u002F\u002Fstrv.dev\u002Fblog\u002Funrealengine--lets-implement-a-single-mesh-renderer","プラグインの公開","https:\u002F\u002Fgithub.com\u002Fstrvert\u002FTinyRenderer","GitHub","\u002Farticle-assets\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3\u002F\u002Fcompare.png","目次","#%E3%81%8A%E3%81%8A%E3%81%BE%E3%81%8B%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF%E3%81%A8%E3%82%B3%E3%83%B3%E3%82%BB%E3%83%97%E3%83%88","#%E8%BB%BD%E9%87%8F%E3%81%AA%E5%8D%98%E4%B8%80-staticmesh-%E3%83%AC%E3%83%B3%E3%83%80%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A3%85","軽量な単一 StaticMesh レンダラの実装","#%E3%83%AC%E3%83%B3%E3%83%80%E3%83%A9%E3%82%AF%E3%83%A9%E3%82%B9-ftinyrenderer-%E3%81%AE%E5%AE%9A%E7%BE%A9","#%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%81%AE%E6%B5%81%E3%82%8C","#ftinyrenderersetupscenetextures","#ftinyrendererrenderbasepass","#ftinyrenderercreatemeshbatch","#ftinyrenderersetupgpusceneresourceparameters","#ftinyrenderersetgpusceneresourceparameters","#%E3%83%9E%E3%83%86%E3%83%AA%E3%82%A2%E3%83%AB%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E6%8F%8F%E7%94%BB%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%88%E3%82%8B%E3%82%B7%E3%82%A7%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90","#ftinyrenderershader-vsps-%E3%81%AE-c-%E5%AE%9A%E7%BE%A9","#%E7%8B%AC%E8%87%AA%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E6%8F%8F%E7%94%BB%E3%83%91%E3%82%B9%E5%87%A6%E7%90%86%E3%81%AE%E9%A0%82%E7%82%B9%E3%82%B7%E3%82%A7%E3%83%BC%E3%83%80%E3%83%BC%E5%AE%9F%E8%A3%85","#%E7%8B%AC%E8%87%AA%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E6%8F%8F%E7%94%BB%E3%83%91%E3%82%B9%E5%87%A6%E7%90%86%E3%81%AE%E3%83%94%E3%82%AF%E3%82%BB%E3%83%AB%E3%82%B7%E3%82%A7%E3%83%BC%E3%83%80%E3%83%BC%E5%AE%9F%E8%A3%85","#%E3%82%B7%E3%82%A7%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AE%E7%99%BB%E9%8C%B2%E3%81%A8-rdg-%E3%81%AB%E3%82%88%E3%82%8B%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E5%AE%9A%E7%BE%A9","#ftinyrendererbasepassmeshprocessor","#bp-%E3%83%A9%E3%83%83%E3%83%91%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90","BP ラッパーの作成","#api-%E3%81%AE%E5%AE%9A%E7%BE%A9","#%E3%82%AB%E3%83%A1%E3%83%A9%E8%A8%AD%E5%AE%9A-fminimalviewinfo-%E3%81%8B%E3%82%89-viewfamily-%E3%81%AE%E6%A7%8B%E7%AF%89","#utinyrendererrenderer","#%E6%AF%94%E8%BC%83","#nsight-graphics-%E3%81%AE-scrubber-%E3%82%92%E7%9C%BA%E3%82%81%E3%82%8B","#%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E5%86%85%E5%87%A6%E7%90%86%E6%99%82%E9%96%93%E3%81%AE%E6%AF%94%E8%BC%83","#%E3%81%84%E3%81%A3%E3%81%B1%E3%81%84%E6%8F%8F%E7%94%BB%E3%81%97%E3%81%9F%E3%81%A8%E3%81%8D%E3%81%AE-fps-%E3%81%AE%E6%AF%94%E8%BC%83","#%E3%81%95%E3%82%89%E3%81%AA%E3%82%8B%E6%94%B9%E5%96%84%E5%8F%AF%E8%83%BD%E6%80%A7","#opaque-%E4%BB%A5%E5%A4%96%E3%81%AE-blendmode-%E3%81%AE%E5%AF%BE%E5%BF%9C","#%E3%83%A9%E3%82%A4%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E6%8B%A1%E5%BC%B5","#shader-permutaion-%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96","#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E6%94%B9%E5%96%84","#%E3%81%BE%E3%81%A8%E3%82%81"," FSceneViewFamily"," InTransform"," InMeshBatches"," FMeshBatchesRequiredFeatures"," FGPUSceneResourceParameters","Type FeatureLevel","FSceneViewFamily","前回の記事"," の実装を見ていきます。","Emerald","Mesh","LogTinyRenderer"," FViewInfo","static_cast"," PassParameters ","AllocParameters","View ","ViewUniformBuffer","Scene "," SceneUniforms","GetBuffer","FRenderTargetBinding","SceneColorTexture","DepthStencil ","FDepthStencilBinding","SceneDepthTexture","\n\t                                                                  ERenderTargetLoadAction","ELoad"," PassParameters","\"TinyRendererBasePass\"","UnscaledViewRect"," ERDGPassFlags","Raster","FDynamicPassMeshDrawListContext","AddMeshBatch","CreateMeshBatch()","UPrimitiveComponent"," 関数です。","\u002F**"," *\u002F","InStaticMesh","Num"," Sections"," SectionIndex","++","Section"," FLocalVertexFactory"," VertexFactory "," VertexFactory","NumPrimitives "," MaterialInterface "," MaterialInterface","\n\t\t\tMeshBatch","FLocalVertexFactory","Build","PrimitiveSceneData","CreateStructuredBuffer","FVector4f"," InstanceSceneDataSOA","GetDataStrideInFloat4s","ArrayIndex"," GSystemTextures","GetDefaultStructuredBuffer","sizeof","DummyBufferVec4","NAME_LocalVertexFactory","DECLARE_SHADER_TYPE"," MeshMaterial","\u002F* 親の環境定義を引き継ぎつつ、TinyRenderer 用の環境定義を追加 *\u002F","\"\u002FEngine\u002FGenerated\u002FMaterial.ush\"","\"\u002FEngine\u002FGenerated\u002FVertexFactory.ush\"","out","\n\tResolvedView ","ResolveView","GetMaterialVertexParameters"," WorldPos","+=","GetMaterialPixelParameters"," PixelMaterialInputs","Metallic","BaseColor ","w ","+","IMPLEMENT_MATERIAL_SHADER_TYPE","\"\u002FStaticMeshRenderer\u002FPrivate\u002FTinyRendererShader.usf\""," FTinyRendererShaderPS","\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tERenderTargetLoadAction"," InDrawListContext","GetRHI","TryAddMeshBatch"," uint64 BatchElementMask"," FPrimitiveSceneProxy"," FMaterial"," FMaterialRenderProxy"," TinyRenderPassShaders","\n\t\tShaderTypes","AddShaderType","\n\t\tShaders","TinyRenderPassShaders","VertexShader","PixelShader"," StaticMeshId","\n\t\t\tTinyRenderPassShaders"," OverrideSettings","UTinyRenderer","Green","ConstructionValues","FSceneViewFamilyContext","\n\tViewFamily","ViewRect","ViewFamily ","FOV","ENQUEUE_RENDER_COMMAND","RHICmdList","\n\t\t\tRenderer","table","thead","描画手法","tbody","SceneCapture2D","TinyRenderer","\u002Farticles\u002Funrealengine\u002Flets-implement-a-single-mesh-renderer-3","2024-04-10T00:00:00.000Z",false)));